<!DOCTYPE html>
<html>
<head>
	<title>Cognitive Memory Game</title>
	<style>
        #pattern {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  margin: 30px;
}

.shape {
  width: 50px;
  height: 50px;
  margin: 10px;
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
}

.square {
  transform: rotate(45deg);
}

.triangle {
  width: 0;
  height: 0;
  border-left: 25px solid transparent;
  border-right: 25px solid transparent;
  border-bottom: 50px solid;
}

		#game {
			display: none;
		}
	</style>
</head>
<body>
	<h1>Cognitive Memory Game</h1>
	<button onclick="startGame()">Start Game</button>
	<div id="game">
        <h2>Remember the pattern:</h2>
        <div id="pattern"></div>
        <label for="input">Enter the color of the shape:</label>
        <input type="text" id="input">
        <button onclick="checkPattern()">Submit</button>
        <p>Time left: <span id="time">5:00</span></p>
        <p>Score: <span id="score">0</span></p>
      </div>
      
	<script>
		var colors = ['red', 'blue', 'green', 'yellow', 'purple'];
		var shapes = ['circle'];
		var pattern = [];
		var index = 0;
		var score = 0;
		var timer = 300;
		var interval;

		function startGame() {
			document.getElementById('game').style.display = 'block';
			generatePattern();
			interval = setInterval(countdown, 1000);
		}

		function generatePattern() {
    pattern = [];
    index = 0;
    var numShapes = shapes.length;
    var numColors = colors.length;
    // Generate a longer pattern as the user's score increases
    var patternLength = score >= 20 ? 5 : score >= 15 ? 4 : score >= 10 ? 3 : score >= 5 ? 2 : 1;
    for (var i = 0; i < patternLength; i++) {
        var shape = shapes[Math.floor(Math.random() * numShapes)];
        var color = colors[Math.floor(Math.random() * numColors)];
        pattern.push({shape: shape, color: color});
    }
    displayPattern();
}


        function displayPattern() {
  var patternDiv = document.getElementById('pattern');
  patternDiv.innerHTML = '';
  for (var i = 0; i < pattern.length; i++) {
    var color = pattern[i].color;
    var div = document.createElement('div');
    div.style.backgroundColor = color;
    div.className = 'shape';
    patternDiv.appendChild(div);
  }
  document.getElementById('pattern').style.display = 'flex';
  setTimeout(clearPattern, 5000);
}


		function clearPattern() {
			var patternDiv = document.getElementById('pattern');
			patternDiv.innerHTML = '';
		}

        function checkUserInput() {
  var userPattern = [];
  var inputs = document.querySelectorAll('.user-input');
  for (var i = 0; i < inputs.length; i++) {
    var shape = inputs[i].classList[1];
    var color = inputs[i].style.backgroundColor;
    userPattern.push({ shape: shape, color: color });
  }
  for (var i = 0; i < pattern.length; i++) {
    if (userPattern[i].color !== pattern[i].color) {
      return false;
    }
  }
  return true;
}

function handleUserInput() {
  var isCorrect = checkUserInput();
  if (isCorrect) {
    score++;
    document.getElementById('score').textContent = score;
    generatePatternElement();
    displayPattern();
  } else {
    gameOver();
  }
}


function checkPattern() {
    var input = document.getElementById('input').value.trim().toLowerCase();
    var expected = pattern[index].color.toLowerCase();
    if (input === expected) {
        index++;
        score++;
        document.getElementById('score').textContent = score;
        if (index === pattern.length) {
            generatePattern();
        }
    } else {
        alert('Wrong pattern! Try again.');
    }
    document.getElementById('input').value = '';
}



		function countdown() {
			timer--;
			var minutes = Math.floor(timer / 60);
			var seconds = timer % 60;
			document.getElementById('time').textContent = minutes + ':' + (seconds < 10 ? '0' + seconds : seconds);
			if (timer === 0) {
				clearInterval(interval);
				alert('Time is up! Your final score is ' + score);
				resetGame();
			}
		}

		function resetGame() {
			document.getElementById('game').style.display = 'none';
			score = 0;
			timer = 300;
			document.getElementById('score').textContent = score;
            document.getElementById('time').textContent = '5:00';
		clearPattern();
	}
</script>
</body>
</html>
